import { Box, Divider, HorizontalStack, Link, List, Text, VerticalStack } from '@shopify/polaris'
import React from 'react'
import ReportRecommendations from './ReportRecommendations'

const nextStepItems = [
    {
        title: "Prioritized Remediation",
        content: ["Address identified high-risk vulnerabilities first", "Implement suggested security controls", "Conduct follow-up testing to verify fixes"]
    },
    {
        title: "Ongoing Security Measures",
        content: ["Enable continuous API security monitoring", "Integrate security testing into your CI/CD pipeline", "Track and monitor sensitive data exposure", "Maintain an up-to-date API inventory"]
    }
]

const ReportConclusion = ({ aktoRecommendations }) => {
    return (
        <>
            <Box id="akto-next-step" paddingBlockStart={6} paddingBlockEnd={6} paddingInlineStart={5} paddingInlineEnd={5}>
                <VerticalStack gap="4">
                    <Text variant="headingLg">3. Conclusion and Next Steps</Text>
                    <VerticalStack gap="3">
                        <Text variant="bodyMd" color='subdued'>
                            This security assessment was conducted using Akto's continuous API security testing platform, which helped identify various vulnerabilities across your API endpoints. To maintain robust API security moving forward, we recommend:
                        </Text>
                        <VerticalStack>
                            {nextStepItems.map((item, index) => {
                                return (
                                    <Box key={index}>
                                        <Text color='subdued'>{index + 1}. {item.title}</Text>
                                        <Box paddingInlineStart={4}>
                                            {
                                                item.content.map((item, index) => {
                                                    return (
                                                        <List.Item key={item+index}><span className='subdued-color-text'>{item}</span></List.Item>
                                                    )
                                                })
                                            }
                                        </Box>
                                    </Box>
                                )
                            })}
                        </VerticalStack>
                        <Text color='subdued'>
                            Our platform will continue to monitor your APIs for potential security risks and notify your team of any new vulnerabilities through your configured Jira/Slack integrations. Regular automated scans will help ensure sustained security coverage across your API landscape.
                        </Text>
                        <Text color='subdued'>
                            For detailed remediation support or to discuss these findings further, please reach out to our security team at <Link>support@akto.io</Link>
                        </Text>
                    </VerticalStack>
                </VerticalStack>
            </Box>

            {aktoRecommendations.length !== 0 ?
                <Box>
                    <div className="report-page-break"></div>
                    <Box paddingInlineStart={5} paddingInlineEnd={5}>
                        <Divider />
                    </Box>
                    <ReportRecommendations
                        title="Akto recommendations"
                        sno="4"
                        itemsList={aktoRecommendations}
                    />
                </Box>: null
            }

            <Box paddingInlineStart={5} paddingInlineEnd={5}>
                <Divider />
            </Box>

            <Box paddingBlockStart={6} paddingBlockEnd={6} paddingInlineStart={5} paddingInlineEnd={5}>
                <div className='badges-info-container'>
                    <Text color='subdued' alignment='center'>Assessment conducted using Akto's API Security Platform<br/>G2 High Performer in API Security - 2024</Text>
                </div>

                <Box width='100%' paddingBlockStart={4}>
                    <HorizontalStack gap={4} align='center'>
                        <VerticalStack gap={2} align='center' inlineAlign='center'>
                            <Text fontWeight='semibold' color='subdued'>DAST</Text>
                            <Link url='https://www.g2.com/products/akto/reviews' target='_blank' removeUnderline><img src='/public/g2-badge-2.png' alt="Footer Image" className='g2-badge' /></Link>
                        </VerticalStack>

                        <VerticalStack gap={2} align='center' inlineAlign='center'>
                            <Text>{"\u2008"}</Text> {/* Invisible character unicode */}
                            <Link url='https://www.g2.com/products/akto/reviews' target='_blank' removeUnderline><img src='/public/g2-badge-1.png' alt="Footer Image" className='g2-badge' /></Link>
                        </VerticalStack>

                        <VerticalStack gap={2} align='center' inlineAlign='center'>
                            <Text fontWeight='semibold' color='subdued'>API SECURITY</Text>
                            <Link url='https://www.g2.com/products/akto/reviews' target='_blank' removeUnderline><img src='/public/g2-badge-2.png' alt="Footer Image" className='g2-badge' /></Link>
                        </VerticalStack>
                    </HorizontalStack>
                </Box>
            </Box>

            <div className='report-end-image-container'>
                <img src="/public/vul_report_bg.svg" alt="Footer Image" className='report-end-image' />
                <div className='report-end-image-text'>The End.</div>
            </div>
        </>
    )
}

export default ReportConclusion